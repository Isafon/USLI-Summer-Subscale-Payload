[platformio]
default_envs = nano_v4

[env:nano_v4]
platform = atmelavr
board = nanoatmega328
framework = arduino
board_build.f_cpu = 16000000L
board_build.variant = nano

; Build configuration
build_flags = 
    -D ARDUINO_AVR_NANO
    -D F_CPU=16000000L
    -D ARDUINO=10800
    -D ARDUINO_ARCH_AVR

; Upload configuration
upload_protocol = arduino
upload_speed = 115200

; Serial monitor configuration
monitor_speed = 115200
monitor_filters = esp32_exception_decoder, time, colorize

; Library dependencies
lib_deps = 
    mikalhart/TinyGPSPlus @ ^1.0.3
    paulstoffregen/OneWire @ ^2.3.7
    milesburton/DallasTemperature @ ^3.11.0
    adafruit/Adafruit BusIO @ ^1.14.1
    adafruit/Adafruit Unified Sensor @ ^1.1.9

; Source files
src_dir = app
lib_dir = src
include_dir = include

; Build output
build_dir = .pio/build
lib_dir = .pio/libdeps

; Additional build options
build_type = release
debug_tool = avr-stub
debug_init_break = tbreak setup

